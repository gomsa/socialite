syntax = "proto3";

package miniprogram;

service Miniprogram {
    // 获取授权
    rpc Token(Request) returns (Response) {}
    // 绑定手机注册
    rpc MobileRegister(Request) returns (Response) {}
}


message Request {
    string code = 1;
    string mobile = 2;
    string verify = 3;  // 手机验证码
    string encryptedData = 4;
    // 微信等小程序  加密算法的初始向量，详细见加密数据解密算法。 
    // 手机验证码唯一识别码 同时也作为手机验证码 唯一识别码对应验证码 验证
    string iv = 5; 
}

message Response {
    string token = 1;
    bool valid = 2;
}